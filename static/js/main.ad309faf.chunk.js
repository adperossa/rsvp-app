(window["webpackJsonprsvp-app"]=window["webpackJsonprsvp-app"]||[]).push([[0],{11:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),i=a.n(o),l=(a(16),a(8)),c=a(4),d=a(5),u=a(6),m=a(9),s=a(7),g=a(10),f=function(e){return r.a.createElement("form",{onSubmit:function(t){return e.handleAgregarInvitado(t)}},r.a.createElement("input",{type:"text",value:e.invitadoPorAgregar,placeholder:"Agregar Invitado",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("button",{type:"submit",name:"submit",value:"submit"},"Agregar"))},v=function(e){return r.a.createElement("header",null,r.a.createElement("h1",null,"RSVP"),r.a.createElement("p",null,"Simple app para organizar reuniones."),r.a.createElement(f,{invitadoPorAgregar:e.invitadoPorAgregar,handleAgregarInvitado:e.agregarInvitado,handleChange:e.inputInvitadoPorAgregar}))},b=function(e){return r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:e.filtrando,onChange:e.toggleFiltro})," Ocultar los que no han respondido")},p=function(e){var t=Math.round(100*e.confirmados/e.total)+" %";return r.a.createElement("table",{className:"counter"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Asistir\xe1n:"),r.a.createElement("td",null,e.confirmados)),r.a.createElement("tr",null,r.a.createElement("td",null,"Sin confirmar:"),r.a.createElement("td",null,e.sinConfirmar)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total:"),r.a.createElement("td",null,e.total)),r.a.createElement("tr",null,r.a.createElement("td",null,"Presentismo:"),r.a.createElement("td",null,e.total>0?t:"---"))))},E=(a(1),function(e){return e.nombre?r.a.createElement("li",{className:"pendiente"},r.a.createElement("span",null,e.nombre)):null}),h=function(e){var t=e.nombre,a=e.confirmado,n=e.editando,o=e.handleCambiarConfirmacion,i=e.handleCambiarEdicion,l=e.handleEditarNombre,c=e.handleEliminarInvitado;return r.a.createElement("li",{className:a?"confirmado":"pendiente"},n?r.a.createElement("input",{type:"text",value:t,onChange:l,onKeyPress:function(e){return"Enter"===e.key?i():null}}):r.a.createElement("span",null,t),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:a,onChange:o})," Asistir\xe1"),r.a.createElement("button",{onClick:i},n?"guardar":"editar"),r.a.createElement("button",{onClick:c},"eliminar"))},P=function(e){return r.a.createElement("ul",null,r.a.createElement(E,{nombre:e.invitadoPorAgregar}),e.invitados.map(function(t,a){return!(e.filtrando&&!t.confirmado)&&r.a.createElement(h,{key:a,confirmado:t.confirmado,editando:t.editando,nombre:t.nombre,handleCambiarConfirmacion:function(){return e.toggleConfirmacion(a)},handleCambiarEdicion:function(){return e.toggleEdicion(a)},handleEditarNombre:function(t){return e.cambiarNombre(a,t.target.value)},handleEliminarInvitado:function(){return e.eliminarInvitado(a)}})}))},S=function(e){return r.a.createElement("div",{className:"container-cache"},r.a.createElement("p",{className:"aviso-cache"},"Usando almacenamiento local"),r.a.createElement("button",{className:"boton-eliminar-cache",onClick:e.borrarLocalStorage},"borrar datos"))},w=function(e){return r.a.createElement("div",{className:"main"},r.a.createElement("div",null,r.a.createElement("h2",null,"Invitados"),r.a.createElement(b,{filtrando:e.filtrando,toggleFiltro:e.toggleFiltro})),r.a.createElement(p,{confirmados:e.confirmados,sinConfirmar:e.sinConfirmar,total:e.total}),r.a.createElement(P,{invitados:e.invitados,filtrando:e.filtrando,toggleConfirmacion:e.toggleConfirmacion,toggleEdicion:e.toggleEdicion,cambiarNombre:e.cambiarNombre,eliminarInvitado:e.eliminarInvitado,invitadoPorAgregar:e.invitadoPorAgregar}),window.localStorage.rsvp_cachelocal?r.a.createElement(S,{borrarLocalStorage:e.borrarLocalStorage}):null)};function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var y=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(s.a)(t).call(this,e))).guardarStatePersistente=function(){var e=JSON.stringify(a.state);window.localStorage.state=e,window.localStorage.rsvp_cachelocal=!0},a.cargarStatePersistente=function(){var e=JSON.parse(window.localStorage.state);a.state=e},a.borrarLocalStorage=function(){window.localStorage.rsvp_cachelocal=!1,window.localStorage.clear(),a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(c.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.baseState))},a.getTotalInvitados=function(){return a.state.invitados.length},a.getConfirmados=function(){return a.state.invitados.reduce(function(e,t){return t.confirmado?e+1:e},0)},a.toggleFiltro=function(){a.setState({filtrando:!a.state.filtrando})},a.togglePropiedad=function(e,t){a.setState(function(a){var n=a.invitados;return n[e][t]=!n[e][t],{invitados:n}})},a.toggleConfirmacion=function(e){a.togglePropiedad(e,"confirmado")},a.toggleEdicion=function(e){a.togglePropiedad(e,"editando")},a.cambiarNombre=function(e,t){a.setState(function(a){var n=a.invitados;return n[e].nombre=t,{invitados:n}})},a.agregarInvitado=function(e){e.preventDefault(),a.setState(function(e){return{invitados:[{nombre:a.state.invitadoPorAgregar,confirmado:!1,editando:!1}].concat(Object(l.a)(e.invitados)),invitadoPorAgregar:""}})},a.inputInvitadoPorAgregar=function(e){a.setState({invitadoPorAgregar:e.target.value})},a.eliminarInvitado=function(e){a.setState(function(t){return{invitados:t.invitados.filter(function(a){return t.invitados[e]!==a})}})},a.baseState={invitados:[{nombre:"Juan",confirmado:!1,editando:!1},{nombre:"Pedro",confirmado:!0,editando:!1},{nombre:"Tony",confirmado:!0,editando:!1}],filtrando:!1,invitadoPorAgregar:""},window.localStorage.rsvp_cachelocal?(a.cargarStatePersistente(),console.warn("RSVP App - Utilizando almacenamiento local")):a.state=a.baseState,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.guardarStatePersistente)}},{key:"componentWillUnmount",value:function(){this.guardarStatePersistente(),window.removeEventListener("beforeunload",this.guardarStatePersistente)}},{key:"render",value:function(){var e=this.getTotalInvitados(),t=this.getConfirmados(),a=e-t;return r.a.createElement("div",{className:"App"},r.a.createElement(v,{invitadoPorAgregar:this.state.invitadoPorAgregar,agregarInvitado:this.agregarInvitado,inputInvitadoPorAgregar:this.inputInvitadoPorAgregar}),r.a.createElement(w,{filtrando:this.state.filtrando,toggleFiltro:this.toggleFiltro,confirmados:t,sinConfirmar:a,total:e,invitados:this.state.invitados,toggleConfirmacion:this.toggleConfirmacion,toggleEdicion:this.toggleEdicion,cambiarNombre:this.cambiarNombre,eliminarInvitado:this.eliminarInvitado,invitadoPorAgregar:this.state.invitadoPorAgregar,borrarLocalStorage:this.borrarLocalStorage}))}}]),t}(n.Component);i.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.ad309faf.chunk.js.map